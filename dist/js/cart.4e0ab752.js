"use strict";(self["webpackChunkfrontend_shop"]=self["webpackChunkfrontend_shop"]||[]).push([[511],{3603:function(e,t,a){a.r(t),a.d(t,{default:function(){return et}});var r=a(3396),o=a(7139),s=a(9242),l=a(5878);const i={class:"container-fluid mb-5 mt-4"},c={class:"row"},n={class:"col-md-6"},d={class:"card border-0 shadow rounded"},u={class:"card-body"},m=(0,r._)("h5",null,[(0,r._)("i",{class:"fa fa-shopping-cart"}),(0,r.Uk)(" Detail Pesanan ")],-1),p=(0,r._)("hr",{style:{"border-top":"3px solid rgb(154 155 156)","border-radius":".5rem"}},null,-1),_={key:0},g={class:"table"},h={class:"b-none",width:"25%"},b={class:"wrapper-image-cart"},k=["src"],v={class:"b-none",width:"50%"},w={class:"table-borderless",style:{"font-size":"14px"}},f=(0,r._)("td",{style:{padding:".20rem"}},"Qty",-1),y=(0,r._)("td",{style:{padding:".20rem"}},":",-1),C={style:{padding:".20rem"}},x={class:"b-none text-right"},D={class:"m-0 fw-bold"},z={class:"m-0"},S={style:{"text-decoration-color":"red"}},K=(0,r._)("br",null,null,-1),O={class:"text-right"},T=["onClick"],U=(0,r._)("i",{class:"fa fa-trash"},null,-1),P=[U],q={class:"table table-default"},F=(0,r._)("td",{class:"set-td text-left",width:"60%"},[(0,r._)("p",{class:"m-0"},"Jumlah")],-1),L=(0,r._)("td",{class:"set-td text-right",width:"30%"},"  : Rp.",-1),R={class:"text-right set-td"},V={class:"m-0",id:"subtotal"},M={class:"set-td text-left border-0"},W={class:"m-0"},j=(0,r.Uk)(" Ongkos Kirim ( "),H=(0,r.Uk)(" gram) "),N=(0,r._)("td",{class:"set-td border-0 text-right"},"  : Rp.",-1),Z={class:"set-td border-0 text-right"},A={class:"m-0",id:"ongkir-cart"},G=(0,r._)("td",{class:"text-left border-0"},[(0,r._)("p",{class:"fw-bold m-0 h5"},"Grand Total")],-1),I=(0,r._)("td",{class:"border-0 text-right"},"  : Rp.",-1),B={class:"border-0 text-right"},Y={class:"fw-bold m-0 h5",align:"right"},J={key:1,class:"mt-3 text-center"},E=(0,r._)("img",{src:l,style:{width:"250px"}},null,-1),Q=(0,r._)("p",{class:"fs-5 mt-3 fw-bold"},"Sepertinya kamu belum memiliki produk di keranjang.",-1),$=(0,r._)("i",{class:"fa fa-long-arrow-alt-left"},null,-1),X=(0,r.Uk)(" Beranda "),ee={class:"col-md-6 mt-3 mt-md-0"},te={class:"card border-0 shadow rounded"},ae={class:"card-body"},re=(0,r._)("h5",null,[(0,r._)("i",{class:"fa fa-user-circle"}),(0,r.Uk)(" Rincian Pengiriman ")],-1),oe=(0,r._)("hr",{style:{"border-top":"3px solid rgb(154 155 156)","border-radius":".5rem"}},null,-1),se={class:"row"},le={class:"col-md-6"},ie={class:"form-group"},ce=(0,r._)("label",{class:"fw-bold mb-1"},"Nama Lengkap",-1),ne={key:0,class:"mt-2 alert alert-danger"},de={class:"col-md-6 mt-3 mt-md-0"},ue={class:"form-group"},me=(0,r._)("label",{class:"fw-bold mb-1"},"No. Hp / Whatsapp",-1),pe={key:0,class:"mt-2 alert alert-danger"},_e={class:"col-md-12 mt-3"},ge={class:"form-group"},he=(0,r._)("label",{class:"fw-bold mb-1"},"Provinsi",-1),be=(0,r._)("option",{value:""},"-- Pilih Provinsi --",-1),ke=["value"],ve={class:"col-md-12 mt-3"},we={class:"form-group"},fe=(0,r._)("label",{class:"fw-bold mb-1"},"Kota / Kabupaten",-1),ye=(0,r._)("option",{value:""},"-- Pilih Kota --",-1),Ce=["value"],xe={class:"col-md-12 mt-3"},De={key:0,class:"form-group"},ze=(0,r._)("label",{class:"fw-bold mb-1"},"Kurir Pengiriman",-1),Se=(0,r._)("br",null,null,-1),Ke={class:"form-check form-check-inline"},Oe=(0,r._)("label",{class:"form-check-label fw-bold me-2",for:"ongkos_kirim-tiki",style:{cursor:"pointer"}},"TIKI",-1),Te={class:"form-check form-check-inline"},Ue=(0,r._)("label",{class:"form-check-label fw-bold",for:"ongkos_kirim-pos",style:{cursor:"pointer"}},"POS",-1),Pe={class:"col-md-12 mt-1"},qe={key:0,class:"form-group"},Fe=(0,r._)("hr",{style:{"border-top":"3px solid rgb(154 155 156)","border-radius":".5rem"}},null,-1),Le=(0,r._)("label",{class:"fw-bold mb-1"},"Service Kurir",-1),Re=(0,r._)("br",null,null,-1),Ve=["id","value"],Me=["for"],We={class:"col-md-12 mt-3"},je={class:"form-group"},He=(0,r._)("label",{class:"fw-bold mb-1"},"Alamat Lengkap",-1),Ne={key:0,class:"mt-2 alert alert-danger"},Ze={key:0,class:"col-md-12 mt-3"};function Ae(e,t,a,l,U,Ae){const Ge=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",c,[(0,r._)("div",n,[(0,r._)("div",d,[(0,r._)("div",u,[m,p,l.cartCount>=1?((0,r.wg)(),(0,r.iD)("div",_,[(0,r._)("table",g,[(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.carts,(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.id},[(0,r._)("td",h,[(0,r._)("div",b,[(0,r._)("img",{src:t.product.image,style:{width:"100%","border-radius":".5rem"}},null,8,k)])]),(0,r._)("td",v,[(0,r._)("h5",null,[(0,r._)("b",null,(0,o.zw)(t.product.title),1)]),(0,r._)("table",w,[(0,r._)("tr",null,[f,y,(0,r._)("td",C,[(0,r._)("b",null,(0,o.zw)(t.quantity),1)])])])]),(0,r._)("td",x,[(0,r._)("p",D,"Rp. "+(0,o.zw)(e.moneyFormat(t.price)),1),(0,r._)("p",z,[(0,r._)("s",S," Rp. "+(0,o.zw)(e.moneyFormat(t.product.price*t.quantity)),1)]),K,(0,r._)("div",O,[(0,r._)("button",{onClick:(0,s.iM)((e=>l.removeCart(t.id)),["prevent"]),class:"btn btn-sm btn-danger"},P,8,T)])])])))),128))])]),(0,r._)("table",q,[(0,r._)("tbody",null,[(0,r._)("tr",null,[F,L,(0,r._)("td",R,[(0,r._)("p",V,(0,o.zw)(e.moneyFormat(l.cartTotal)),1)])]),(0,r._)("tr",null,[(0,r._)("td",M,[(0,r._)("p",W,[j,(0,r._)("strong",null,(0,o.zw)(l.cartWeight),1),H])]),N,(0,r._)("td",Z,[(0,r._)("p",A,(0,o.zw)(e.moneyFormat(l.state.courier_cost)),1)])]),(0,r._)("tr",null,[G,I,(0,r._)("td",B,[(0,r._)("p",Y,(0,o.zw)(e.moneyFormat(l.state.grandTotal)),1)])])])])])):((0,r.wg)(),(0,r.iD)("div",J,[E,Q,(0,r.Wm)(Ge,{to:{name:"home"},class:"btn btn-primary btn-md shadow-md"},{default:(0,r.w5)((()=>[$,X])),_:1})]))])])]),(0,r._)("div",ee,[(0,r._)("div",te,[(0,r._)("div",ae,[re,oe,(0,r._)("div",se,[(0,r._)("div",le,[(0,r._)("div",ie,[ce,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"nama_lengkap",placeholder:"Nama Lengkap","onUpdate:modelValue":t[0]||(t[0]=e=>l.state.name=e)},null,512),[[s.nr,l.state.name]]),l.validation.name?((0,r.wg)(),(0,r.iD)("div",ne,"Masukkan Nama Lengkap")):(0,r.kq)("",!0)])]),(0,r._)("div",de,[(0,r._)("div",ue,[me,(0,r.wy)((0,r._)("input",{type:"number",class:"form-control",id:"phone",placeholder:"No. HP / WhatsApp","onUpdate:modelValue":t[1]||(t[1]=e=>l.state.phone=e)},null,512),[[s.nr,l.state.phone]]),l.validation.phone?((0,r.wg)(),(0,r.iD)("div",pe,"Masukkan No. Telp")):(0,r.kq)("",!0)])]),(0,r._)("div",_e,[(0,r._)("div",ge,[he,(0,r.wy)((0,r._)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l.state.province_id=e),onChange:t[3]||(t[3]=(...e)=>l.getCities&&l.getCities(...e))},[be,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.state.provinces,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.id,value:e.province_id},(0,o.zw)(e.name),9,ke)))),128))],544),[[s.bM,l.state.province_id]])])]),(0,r._)("div",ve,[(0,r._)("div",we,[fe,(0,r.wy)((0,r._)("select",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>l.state.city_id=e),onChange:t[5]||(t[5]=(...e)=>l.getCourier&&l.getCourier(...e))},[ye,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.state.cities,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.id,value:e.city_id},(0,o.zw)(e.name),9,Ce)))),128))],544),[[s.bM,l.state.city_id]])])]),(0,r._)("div",xe,[l.state.courier?((0,r.wg)(),(0,r.iD)("div",De,[ze,Se,(0,r._)("div",Ke,[(0,r.wy)((0,r._)("input",{class:"form-check-input select-courier me-1",type:"radio",name:"courier",id:"ongkos_kirim-tiki",value:"tiki","onUpdate:modelValue":t[6]||(t[6]=e=>l.state.courier_type=e),onChange:t[7]||(t[7]=(...e)=>l.getOngkir&&l.getOngkir(...e)),style:{cursor:"pointer"}},null,544),[[s.G2,l.state.courier_type]]),Oe]),(0,r._)("div",Te,[(0,r.wy)((0,r._)("input",{class:"form-check-input select-courier me-1",type:"radio",name:"courier",id:"ongkos_kirim-pos",value:"pos","onUpdate:modelValue":t[8]||(t[8]=e=>l.state.courier_type=e),onChange:t[9]||(t[9]=(...e)=>l.getOngkir&&l.getOngkir(...e)),style:{cursor:"pointer"}},null,544),[[s.G2,l.state.courier_type]]),Ue])])):(0,r.kq)("",!0)]),(0,r._)("div",Pe,[l.state.cost?((0,r.wg)(),(0,r.iD)("div",qe,[Fe,Le,Re,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.state.costs,(a=>((0,r.wg)(),(0,r.iD)("div",{key:a.service,class:"form-check form-check-inline"},[(0,r.wy)((0,r._)("input",{class:"form-check-input",type:"radio",name:"cost",id:a.service,value:a.cost[0].value+"|"+a.service,"onUpdate:modelValue":t[10]||(t[10]=e=>l.state.costService=e),onChange:t[11]||(t[11]=(...e)=>l.getCostService&&l.getCostService(...e)),style:{cursor:"pointer"}},null,40,Ve),[[s.G2,l.state.costService]]),(0,r._)("label",{class:"form-check-label font-weight-normal me-5",for:a.service,style:{cursor:"pointer"}},(0,o.zw)(a.service)+" - Rp. "+(0,o.zw)(e.moneyFormat(a.cost[0].value)),9,Me)])))),128))])):(0,r.kq)("",!0)]),(0,r._)("div",We,[(0,r._)("div",je,[He,(0,r.wy)((0,r._)("textarea",{class:"form-control",id:"alamat",rows:"3",placeholder:"Alamat Lengkap\n\nContoh: Perum. Griya Palem Indah, B-17 Jombang Jawa Timur 61419","onUpdate:modelValue":t[12]||(t[12]=e=>l.state.address=e)},null,512),[[s.nr,l.state.address]]),l.validation.address?((0,r.wg)(),(0,r.iD)("div",Ne,"Masukkan Alamat Lengkap")):(0,r.kq)("",!0)])]),l.state.buttonCheckout?((0,r.wg)(),(0,r.iD)("div",Ze,[(0,r._)("button",{onClick:t[13]||(t[13]=(0,s.iM)(((...e)=>l.checkout&&l.checkout(...e)),["prevent"])),class:"btn btn-primary btn-lg w-100"},"Checkout")])):(0,r.kq)("",!0)])])])])])])}var Ge=a(2487),Ie=a(4870),Be=a(65),Ye=a(678),Je=a(2492),Ee=a.n(Je),Qe={setup(){const e=(0,Be.oR)(),t=(0,Ye.tv)();(0,r.bv)((()=>{e.dispatch("cart/cartCount"),e.dispatch("cart/cartTotal"),e.dispatch("cart/cartWeight")}));const a=(0,r.Fl)((()=>e.getters["cart/getCart"])),o=(0,r.Fl)((()=>e.getters["cart/cartCount"])),s=(0,r.Fl)((()=>e.state.cart.cartTotal)),l=(0,r.Fl)((()=>e.state.cart.cartWeight)),i=t=>{e.dispatch("cart/removeCart",t)},c=(0,Ie.qj)({name:"",phone:"",address:"",provinces:[],province_id:"",cities:[],city_id:"",courier:!1,courier_type:"",cost:!1,costs:"",costService:"",courier_cost:0,courier_service:"",buttonCheckout:!1,grandTotal:0}),n=(0,Ie.qj)({name:!1,phone:!1,address:!1}),d=(0,r.bv)((()=>{Ge.Z.get("/rajaongkir/provinces").then((e=>{c.provinces=e.data.data})).catch((e=>{console.log(e)}))})),u=()=>{Ge.Z.get("/rajaongkir/cities",{params:{province_id:c.province_id}}).then((e=>{c.cities=e.data.data})).catch((e=>{console.log(e)}))},m=()=>{c.courier=!0},p=()=>{0!=l.value?(Ee().fire({title:"Loading...",text:"Silahkan tunggu beberapa saat!",icon:"info",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{Ee().showLoading()}}),Ge.Z.post("/rajaongkir/checkOngkir",{city_destination:c.city_id,weight:l.value,courier:c.courier_type}).then((e=>{Ee().close(),c.cost=!0,c.costs=e.data.data[0].costs})).catch((e=>{console.log(e)}))):Ee().fire({title:"Oops...",text:"Silahkan pilih produk terlebih dahulu!",icon:"error"})},_=()=>{let t=c.costService.split("|");c.courier_cost=t[0],c.courier_service=t[1];const a=e.state.auth.token;Ge.Z.defaults.headers.common.Authorization=`Bearer ${a}`,Ge.Z.get("cart/total").then((e=>{c.grandTotal=parseInt(e.data.total)+parseInt(c.courier_cost)})),c.buttonCheckout=!0},g=()=>{if(c.name&&c.phone&&c.address&&l.value){let a={name:c.name,phone:c.phone,province_id:c.province_id,city_id:c.city_id,courier_type:c.courier_type,courier_service:c.courier_service,courier_cost:c.courier_cost,weight:l.value,address:c.address,grandTotal:c.grandTotal};Ee().fire({title:"Loading...",text:"Silahkan tunggu beberapa saat!",icon:"info",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{Ee().showLoading()}}),e.dispatch("cart/checkout",a).then((e=>{Ee().close(),t.push({name:"detail_order",params:{snap_token:e[0].snap_token}}),Ee().fire({title:"Success",text:"Checkout berhasil.",icon:"success",showConfirmButton:!1,timer:1500})})).catch((e=>{console.log(e)}))}c.name||(n.name=!0),c.phone||(n.phone=!0),c.address||(n.address=!0)};return{carts:a,cartCount:o,cartTotal:s,cartWeight:l,removeCart:i,state:c,validation:n,provinces:d,getCities:u,getCourier:m,getOngkir:p,getCostService:_,checkout:g}}},$e=a(89);const Xe=(0,$e.Z)(Qe,[["render",Ae]]);var et=Xe},5878:function(e,t,a){e.exports=a.p+"img/empty-products.fbb49912.svg"}}]);
//# sourceMappingURL=cart.4e0ab752.js.map