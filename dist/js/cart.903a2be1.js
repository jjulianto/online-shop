"use strict";(self["webpackChunkfrontend_shop"]=self["webpackChunkfrontend_shop"]||[]).push([[511],{3553:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ee}});var r=a(3396),s=a(7139),o=a(9242);const l={class:"container-fluid mb-5 mt-4"},i={class:"row"},c={class:"col-md-6"},n={class:"card border-0 shadow rounded"},d={class:"card-body"},u=(0,r._)("h5",null,[(0,r._)("i",{class:"fa fa-shopping-cart"}),(0,r.Uk)(" Detail Pesanan")],-1),m=(0,r._)("hr",{style:{"border-top":"3px solid rgb(154 155 156)","border-radius":".5rem"}},null,-1),p={key:0},_={class:"table"},g={class:"b-none",width:"25%"},h={class:"wrapper-image-cart"},b=["src"],k={class:"b-none",width:"50%"},v={class:"table-borderless",style:{"font-size":"14px"}},w=(0,r._)("td",{style:{padding:".20rem"}},"Qty",-1),y=(0,r._)("td",{style:{padding:".20rem"}},":",-1),f={style:{padding:".20rem"}},C={class:"b-none text-right"},x={class:"m-0 fw-bold"},D={class:"m-0"},z={style:{"text-decoration-color":"red"}},T=(0,r._)("br",null,null,-1),U={class:"text-right"},S=["onClick"],K=(0,r._)("i",{class:"fa fa-trash"},null,-1),P=[K],q={class:"table table-default"},F=(0,r._)("td",{class:"set-td text-left",width:"60%"},[(0,r._)("p",{class:"m-0"},"Jumlah ")],-1),O=(0,r._)("td",{class:"set-td text-right",width:"30%"},"  : Rp.",-1),L={class:"text-right set-td"},R={class:"m-0",id:"subtotal"},V={class:"set-td text-left border-0"},M={class:"m-0"},W=(0,r.Uk)("Ongkos Kirim ("),j=(0,r.Uk)(" gram)"),H=(0,r._)("td",{class:"set-td border-0 text-right"},"  : Rp.",-1),N={class:"set-td border-0 text-right"},Z={class:"m-0",id:"ongkir-cart"},A=(0,r._)("td",{class:"text-left border-0"},[(0,r._)("p",{class:"fw-bold m-0 h5"},"Grand Total ")],-1),G=(0,r._)("td",{class:"border-0 text-right"},"  : Rp.",-1),I={class:"border-0 text-right"},B={class:"fw-bold m-0 h5",align:"right"},Y={key:1,class:"mt-2 text-center"},J=(0,r._)("p",{class:"fs-5 fw-bold"},"Sepertinya kamu belum memiliki produk di keranjang",-1),Q=(0,r._)("i",{class:"fa fa-long-arrow-alt-left"},null,-1),$=(0,r.Uk)(" Beranda"),E={class:"col-md-6"},X={class:"card border-0 shadow rounded"},ee={class:"card-body"},te=(0,r._)("h5",null,[(0,r._)("i",{class:"fa fa-user-circle"}),(0,r.Uk)(" Rincian Pengiriman")],-1),ae=(0,r._)("hr",{style:{"border-top":"3px solid rgb(154 155 156)","border-radius":".5rem"}},null,-1),re={class:"row"},se={class:"col-md-6"},oe={class:"form-group"},le=(0,r._)("label",{class:"fw-bold mb-1"},"Nama Lengkap",-1),ie={key:0,class:"mt-2 alert alert-danger"},ce={class:"col-md-6"},ne={class:"form-group"},de=(0,r._)("label",{class:"fw-bold mb-1"},"No. Hp / Whatsapp",-1),ue={key:0,class:"mt-2 alert alert-danger"},me={class:"col-md-12 mt-2"},pe={class:"form-group"},_e=(0,r._)("label",{class:"fw-bold mb-1"},"Provinsi",-1),ge=(0,r._)("option",{value:""},"-- Pilih Provinsi --",-1),he=["value"],be={class:"col-md-12 mt-2"},ke={class:"form-group"},ve=(0,r._)("label",{class:"fw-bold mb-1"},"Kota / Kabupaten",-1),we=(0,r._)("option",{value:""},"-- Pilih Kota --",-1),ye=["value"],fe={class:"col-md-12 mt-2"},Ce={key:0,class:"form-group"},xe=(0,r._)("label",{class:"fw-bold mb-1"},"Kurir Pengiriman",-1),De=(0,r._)("br",null,null,-1),ze={class:"form-check form-check-inline"},Te=(0,r._)("label",{class:"form-check-label fw-bold me-2",for:"ongkos_kirim-tiki",style:{cursor:"pointer"}},"TIKI",-1),Ue={class:"form-check form-check-inline"},Se=(0,r._)("label",{class:"form-check-label fw-bold",for:"ongkos_kirim-pos",style:{cursor:"pointer"}},"POS",-1),Ke={class:"col-md-12 mt-2"},Pe={key:0,class:"form-group"},qe=(0,r._)("hr",{style:{"border-top":"3px solid rgb(154 155 156)","border-radius":".5rem"}},null,-1),Fe=(0,r._)("label",{class:"fw-bold mb-1"},"Service Kurir",-1),Oe=(0,r._)("br",null,null,-1),Le=["id","value"],Re=["for"],Ve={class:"col-md-12 mt-2"},Me={class:"form-group"},We=(0,r._)("label",{class:"fw-bold mb-1"},"Alamat Lengkap",-1),je={key:0,class:"mt-2 alert alert-danger"},He={key:0,class:"col-md-12 mt-3"};function Ne(e,t,a,K,Ne,Ze){const Ae=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",i,[(0,r._)("div",c,[(0,r._)("div",n,[(0,r._)("div",d,[u,m,K.cartCount>=1?((0,r.wg)(),(0,r.iD)("div",p,[(0,r._)("table",_,[(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(K.carts,(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.id},[(0,r._)("td",g,[(0,r._)("div",h,[(0,r._)("img",{src:t.product.image,style:{width:"100%","border-radius":".5rem"}},null,8,b)])]),(0,r._)("td",k,[(0,r._)("h5",null,[(0,r._)("b",null,(0,s.zw)(t.product.title),1)]),(0,r._)("table",v,[(0,r._)("tr",null,[w,y,(0,r._)("td",f,[(0,r._)("b",null,(0,s.zw)(t.quantity),1)])])])]),(0,r._)("td",C,[(0,r._)("p",x,"Rp. "+(0,s.zw)(e.moneyFormat(t.price)),1),(0,r._)("p",D,[(0,r._)("s",z,"Rp. "+(0,s.zw)(e.moneyFormat(t.product.price*t.quantity)),1)]),T,(0,r._)("div",U,[(0,r._)("button",{onClick:(0,o.iM)((e=>K.removeCart(t.id)),["prevent"]),class:"btn btn-sm btn-danger"},P,8,S)])])])))),128))])]),(0,r._)("table",q,[(0,r._)("tbody",null,[(0,r._)("tr",null,[F,O,(0,r._)("td",L,[(0,r._)("p",R,(0,s.zw)(e.moneyFormat(K.cartTotal)),1)])]),(0,r._)("tr",null,[(0,r._)("td",V,[(0,r._)("p",M,[W,(0,r._)("strong",null,(0,s.zw)(K.cartWeight),1),j])]),H,(0,r._)("td",N,[(0,r._)("p",Z,(0,s.zw)(e.moneyFormat(K.state.courier_cost)),1)])]),(0,r._)("tr",null,[A,G,(0,r._)("td",I,[(0,r._)("p",B,(0,s.zw)(e.moneyFormat(K.state.grandTotal)),1)])])])])])):((0,r.wg)(),(0,r.iD)("div",Y,[J,(0,r.Wm)(Ae,{to:{name:"home"},class:"btn btn-primary btn-md shadow-md"},{default:(0,r.w5)((()=>[Q,$])),_:1})]))])])]),(0,r._)("div",E,[(0,r._)("div",X,[(0,r._)("div",ee,[te,ae,(0,r._)("div",re,[(0,r._)("div",se,[(0,r._)("div",oe,[le,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"nama_lengkap",placeholder:"Nama Lengkap","onUpdate:modelValue":t[0]||(t[0]=e=>K.state.name=e)},null,512),[[o.nr,K.state.name]]),K.validation.name?((0,r.wg)(),(0,r.iD)("div",ie," Masukkan Nama Lengkap ")):(0,r.kq)("",!0)])]),(0,r._)("div",ce,[(0,r._)("div",ne,[de,(0,r.wy)((0,r._)("input",{type:"number",class:"form-control",id:"phone",placeholder:"No. HP / WhatsApp","onUpdate:modelValue":t[1]||(t[1]=e=>K.state.phone=e)},null,512),[[o.nr,K.state.phone]]),K.validation.phone?((0,r.wg)(),(0,r.iD)("div",ue," Masukkan No. Telp ")):(0,r.kq)("",!0)])]),(0,r._)("div",me,[(0,r._)("div",pe,[_e,(0,r.wy)((0,r._)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>K.state.province_id=e),onChange:t[3]||(t[3]=(...e)=>K.getCities&&K.getCities(...e))},[ge,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(K.state.provinces,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.id,value:e.province_id},(0,s.zw)(e.name),9,he)))),128))],544),[[o.bM,K.state.province_id]])])]),(0,r._)("div",be,[(0,r._)("div",ke,[ve,(0,r.wy)((0,r._)("select",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>K.state.city_id=e),onChange:t[5]||(t[5]=(...e)=>K.getCourier&&K.getCourier(...e))},[we,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(K.state.cities,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.id,value:e.city_id},(0,s.zw)(e.name),9,ye)))),128))],544),[[o.bM,K.state.city_id]])])]),(0,r._)("div",fe,[K.state.courier?((0,r.wg)(),(0,r.iD)("div",Ce,[xe,De,(0,r._)("div",ze,[(0,r.wy)((0,r._)("input",{class:"form-check-input select-courier me-1",type:"radio",name:"courier",id:"ongkos_kirim-tiki",value:"tiki","onUpdate:modelValue":t[6]||(t[6]=e=>K.state.courier_type=e),onChange:t[7]||(t[7]=(...e)=>K.getOngkir&&K.getOngkir(...e)),style:{cursor:"pointer"}},null,544),[[o.G2,K.state.courier_type]]),Te]),(0,r._)("div",Ue,[(0,r.wy)((0,r._)("input",{class:"form-check-input select-courier me-1",type:"radio",name:"courier",id:"ongkos_kirim-pos",value:"pos","onUpdate:modelValue":t[8]||(t[8]=e=>K.state.courier_type=e),onChange:t[9]||(t[9]=(...e)=>K.getOngkir&&K.getOngkir(...e)),style:{cursor:"pointer"}},null,544),[[o.G2,K.state.courier_type]]),Se])])):(0,r.kq)("",!0)]),(0,r._)("div",Ke,[K.state.cost?((0,r.wg)(),(0,r.iD)("div",Pe,[qe,Fe,Oe,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(K.state.costs,(a=>((0,r.wg)(),(0,r.iD)("div",{key:a.service,class:"form-check form-check-inline"},[(0,r.wy)((0,r._)("input",{class:"form-check-input",type:"radio",name:"cost",id:a.service,value:a.cost[0].value+"|"+a.service,"onUpdate:modelValue":t[10]||(t[10]=e=>K.state.costService=e),onChange:t[11]||(t[11]=(...e)=>K.getCostService&&K.getCostService(...e)),style:{cursor:"pointer"}},null,40,Le),[[o.G2,K.state.costService]]),(0,r._)("label",{class:"form-check-label font-weight-normal me-5",for:a.service,style:{cursor:"pointer"}},(0,s.zw)(a.service)+" - Rp. "+(0,s.zw)(e.moneyFormat(a.cost[0].value)),9,Re)])))),128))])):(0,r.kq)("",!0)]),(0,r._)("div",Ve,[(0,r._)("div",Me,[We,(0,r.wy)((0,r._)("textarea",{class:"form-control",id:"alamat",rows:"3",placeholder:"Alamat Lengkap\n\nContoh: Perum. Griya Palem Indah, B-17 Jombang Jawa Timur 61419","onUpdate:modelValue":t[12]||(t[12]=e=>K.state.address=e)},null,512),[[o.nr,K.state.address]]),K.validation.address?((0,r.wg)(),(0,r.iD)("div",je," Masukkan Alamat Lengkap ")):(0,r.kq)("",!0)])]),K.state.buttonCheckout?((0,r.wg)(),(0,r.iD)("div",He,[(0,r._)("button",{onClick:t[13]||(t[13]=(0,o.iM)(((...e)=>K.checkout&&K.checkout(...e)),["prevent"])),class:"btn btn-primary btn-lg w-100"},"Checkout")])):(0,r.kq)("",!0)])])])])])])}var Ze=a(8898),Ae=a(4870),Ge=a(65),Ie=a(678),Be=a(2492),Ye=a.n(Be),Je={setup(){const e=(0,Ge.oR)(),t=(0,Ie.tv)();(0,r.bv)((()=>{e.dispatch("cart/cartCount"),e.dispatch("cart/cartTotal"),e.dispatch("cart/cartWeight")}));const a=(0,r.Fl)((()=>e.getters["cart/getCart"])),s=(0,r.Fl)((()=>e.getters["cart/cartCount"])),o=(0,r.Fl)((()=>e.state.cart.cartTotal)),l=(0,r.Fl)((()=>e.state.cart.cartWeight)),i=t=>{e.dispatch("cart/removeCart",t)},c=(0,Ae.qj)({name:"",phone:"",address:"",provinces:[],province_id:"",cities:[],city_id:"",courier:!1,courier_type:"",cost:!1,costs:"",costService:"",courier_cost:0,courier_service:"",buttonCheckout:!1,grandTotal:0}),n=(0,Ae.qj)({name:!1,phone:!1,address:!1}),d=(0,r.bv)((()=>{Ze.Z.get("/rajaongkir/provinces").then((e=>{c.provinces=e.data.data})).catch((e=>{console.log(e)}))})),u=()=>{Ze.Z.get("/rajaongkir/cities",{params:{province_id:c.province_id}}).then((e=>{c.cities=e.data.data})).catch((e=>{console.log(e)}))},m=()=>{c.courier=!0},p=()=>{0!=l.value?(Ye().showLoading(),Ze.Z.post("/rajaongkir/checkOngkir",{city_destination:c.city_id,weight:l.value,courier:c.courier_type}).then((e=>{Ye().close(),c.cost=!0,c.costs=e.data.data[0].costs})).catch((e=>{console.log(e)}))):Ye().fire({title:"Oops...",text:"Silahkan pilih produk terlebih dahulu!",icon:"error"})},_=()=>{let t=c.costService.split("|");c.courier_cost=t[0],c.courier_service=t[1];const a=e.state.auth.token;Ze.Z.defaults.headers.common.Authorization=`Bearer ${a}`,Ze.Z.get("cart/total").then((e=>{c.grandTotal=parseInt(e.data.total)+parseInt(c.courier_cost)})),c.buttonCheckout=!0},g=()=>{if(c.name&&c.phone&&c.address&&l.value){let a={name:c.name,phone:c.phone,province_id:c.province_id,city_id:c.city_id,courier_type:c.courier_type,courier_service:c.courier_service,courier_cost:c.courier_cost,weight:l.value,address:c.address,grandTotal:c.grandTotal};Ye().showLoading(),e.dispatch("cart/checkout",a).then((e=>{Ye().close(),t.push({name:"detail_order",params:{snap_token:e[0].snap_token}}),Ye().fire({title:"Success",text:"Checkout berhasil.",icon:"success",showConfirmButton:!1,timer:1500})})).catch((e=>{console.log(e)}))}c.name||(n.name=!0),c.phone||(n.phone=!0),c.address||(n.address=!0)};return{carts:a,cartCount:s,cartTotal:o,cartWeight:l,removeCart:i,state:c,validation:n,provinces:d,getCities:u,getCourier:m,getOngkir:p,getCostService:_,checkout:g}}},Qe=a(89);const $e=(0,Qe.Z)(Je,[["render",Ne]]);var Ee=$e}}]);
//# sourceMappingURL=cart.903a2be1.js.map